<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Layout2</title>

    <link rel="stylesheet" href="js/jqwidgets/styles/jqx.base.css" type="text/css"/>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/jqwidgets/jqxcore.js"></script>
    <script type="text/javascript" src="js/jqwidgets/jqxribbon.js"></script>
    <script type="text/javascript" src="js/jqwidgets/jqxlayout.js"></script>

    <script type="text/javascript" src="app/utils.js"></script>
    <script type="text/javascript" src="app/jqxlayout.dynamic.js"></script>

    <script type="text/javascript">
        const autoHideGroup_width = 80;
        const tabbedGroup_width = 220;
        const tabbedGroup_height = 200;
        const border_width = 20
        const border_height = 20

        $(document).ready(function () {
            // the 'layout' JSON array defines the internal structure of the layout
            var layout = [
                {
                    type: 'layoutGroup',
                    orientation: 'horizontal',
                    items: [
                        {
                            type: 'autoHideGroup',
                            alignment: 'left',
                            // width: 80,
                            width: '10%',
                            unpinnedWidth: 200,
                            items: [
                                {
                                    type: 'layoutPanel',
                                    title: 'Toolbox',
                                    contentContainer: 'ToolboxPanel'
                                },
                                {
                                    type: 'layoutPanel',
                                    title: 'Help',
                                    contentContainer: 'HelpPanel'
                                }
                            ]
                        },
                        {
                            type: 'layoutGroup',
                            orientation: 'vertical',
                            // width: 500,
                            // width: '100%',
                            width: '80%',
                            items: [
                                {
                                    type: 'documentGroup',
                                    // height: 400,
                                    height: '80%',
                                    minHeight: 200,
                                    items: [
                                        {
                                            type: 'documentPanel',
                                            title: 'Document 1',
                                            contentContainer: 'Document1Panel'
                                        },
                                        {
                                            type: 'documentPanel',
                                            title: 'Document 2',
                                            contentContainer: 'Document2Panel'
                                        }
                                    ]
                                },
                                {
                                    type: 'tabbedGroup',
                                    // height: 200,
                                    height: '20%',
                                    pinnedHeight: 30,
                                    items: [
                                        {
                                            type: 'layoutPanel',
                                            title: 'Error List',
                                            contentContainer: 'ErrorListPanel'
                                        },
                                        {
                                            type: 'layoutPanel',
                                            title: 'Output',
                                            contentContainer: 'OutputPanel',
                                            selected: true
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            type: 'tabbedGroup',
                            // width: 220,
                            width: '10%',
                            minWidth: 200,
                            items: [{
                                type: 'layoutPanel',
                                title: 'Solution Explorer',
                                contentContainer: 'SolutionExplorerPanel'
                            },
                                {
                                    type: 'layoutPanel',
                                    title: 'Properties',
                                    contentContainer: 'PropertiesPanel'
                                }
                            ]
                        }
                    ]
                }
            ];

            // let origlayout = jqxlayoutDyn.clone(layout);
            // let dyn_layout = jqxlayoutDyn.resize(layout,
            //     window.innerWidth - border_width,
            //     window.innerHeight - border_height
            // );

            // console.log(origlayout);
            // console.log(dyn_layout);

            $('#jqxLayout').jqxLayout({
                resizable: true,
                width: (window.innerWidth - border_width),
                height: (window.innerHeight - border_height),
                // width: '100%',
                // height: '100%',
                // width: window.innerWidth,
                // height: window.innerHeight,
                layout: layout
            });

            $(window).resize(() => {
                $('#jqxLayout').jqxLayout({
                    resizable: true,
                    width: (window.innerWidth - border_width),
                    height: (window.innerHeight - border_height),
                    // width: '100%',
                    // height: '100%',
                    // width: window.innerWidth,
                    // height: window.innerHeight,
                    layout: layout
                });
            });

            // $(window).resize(() => {
            //     let dyn_layout = jqxlayoutDyn.resize(layout,
            //         window.innerWidth - border_width,
            //         window.innerHeight - border_height
            //     );
            //     // $('#jqxLayout').jqxLayout('loadLayout', dyn_layout);
            //     // $('#jqxLayout').jqxLayout('refresh');
            //     $('#jqxLayout').jqxLayout({
            //         width: (window.innerWidth - border_width),
            //         height: (window.innerHeight - border_height),
            //         // width: '100%',
            //         // height: '100%',
            //         // width: window.innerWidth,
            //         // height: window.innerHeight,
            //         layout: dyn_layout
            //     });
            // })
        });
    </script>
</head>
<body style="margin: 2px">
<div id="jqxLayout">
    <!--autoHideGroup-->
    <div data-container="ToolboxPanel">
        List of tools
    </div>
    <div data-container="HelpPanel">
        Help topics
    </div>
    <!--documentGroup-->
    <div data-container="Document1Panel">
        Document 1 content
    </div>
    <div data-container="Document2Panel">
        Document 2 content
    </div>
    <!--bottom tabbedGroup-->
    <div data-container="ErrorListPanel">
        List of errors
    </div>
    <div data-container="OutputPanel">
        Output
    </div>
    <!--right tabbedGroup-->
    <div data-container="SolutionExplorerPanel">
        Solution structure
    </div>
    <div data-container="PropertiesPanel">
        List of properties
    </div>
</div>

</body>
</html>